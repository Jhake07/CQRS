@if (isUserLogged()) {
  <div class="d-flex">
    <!-- Content Wrapper -->
    <div class="d-flex flex-column flex-grow-1">
      
      <!-- Topbar -->
      <app-header></app-header>

      <!-- Main content area -->
      <main class="flex-grow-1 p-5">
        <router-outlet></router-outlet>
      </main>

      <!-- Footer -->
      <app-footer></app-footer>
    </div>
  </div>
} @else {
  <!-- Minimal layout for login or public pages -->
  <main class="container py-5">
    <router-outlet></router-outlet>
  </main>
}

<!-- SESSION WARNING MODAL -->
@if (showSessionWarning()) {
  <div class="modal fade show d-block" tabindex="-1" style="background-color: rgba(0, 0, 0, 0.5);">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content shadow border-warning">
        <div class="modal-header bg-warning text-dark">
          <h5 class="modal-title">Session Expiring</h5>
        </div>
        <div class="modal-body">
          <p>Your session will expire in a few minutes. Stay logged in?</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" (click)="onForceLogout()">Log Out</button>
          <button class="btn btn-primary" (click)="onExtendSession()">Stay Logged In</button>
        </div>
      </div>
    </div>
  </div>
}
